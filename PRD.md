# 자리 바꾸기 프로그램 PRD (Product Requirements Document) - Streamlit 버전

## 1. 제품 개요

### 1.1 제품명
**자리 바꾸기 프로그램** - 교실 속 자리 배치 도우미 (Streamlit Web App)

### 1.2 제품 목적
교사가 학생들의 자리를 공정하고 효율적으로 배치할 수 있도록 도와주는 Python 기반 웹 애플리케이션

### 1.3 타겟 사용자
- 초등학교, 중학교, 고등학교 교사
- 학급 담임교사
- 자리 배치가 필요한 교육기관 담당자
- Python 환경에 익숙한 교육자

### 1.4 핵심 가치 제안
- **공정성**: 랜덤 배치로 편파적 자리 배치 방지
- **효율성**: 복잡한 자리 배치를 몇 초 만에 완료
- **유연성**: 다양한 교실 배치 형태 지원
- **확장성**: Python 기반으로 향후 AI 기능 추가 가능
- **배포 용이성**: Streamlit Cloud를 통한 쉬운 배포

## 2. 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 명단 관리
- **명단 입력**: 텍스트 영역에 학생 이름을 한 줄에 한 명씩 입력
- **명단 저장**: 그룹명과 함께 명단을 로컬 스토리지에 저장
- **명단 불러오기**: 저장된 그룹 목록에서 선택하여 명단 불러오기
- **명단 삭제**: 불필요한 그룹 삭제 기능

#### 2.1.2 교실 배치 설정
- **배치 유형 선택**:
  - 기본 배치: 일반적인 격자형 배치
  - 짝꿍 배치: 분단형 배치 (2인 1조)
- **배치 크기 설정**: 행(가로)과 열(세로) 개수 조정
- **자리 비활성화**: 클릭으로 불필요한 자리 비활성화

#### 2.1.3 자리 배치 생성
- **랜덤 배치**: 학생들을 무작위로 자리에 배치
- **시각적 효과**: 자리 배치 시 플립 애니메이션 효과
- **결과 초기화**: 배치된 자리 모두 지우기

### 2.2 고급 기능

#### 2.2.1 사전 자리 지정
- 특정 학생을 원하는 자리에 미리 고정
- 지정된 자리는 랜덤 배치에서 제외
- 지정 해제 기능
- 지정된 자리 목록 실시간 표시

#### 2.2.2 자리 띄우기
- 서로 붙어 앉으면 안 되는 학생들 선택
- 선택된 학생들이 인접하지 않도록 자동 배치
- 최대 1-2칸 거리 유지
- 권장 인원 제한 안내 (전체의 1/8 이내)

#### 2.2.3 자리 비활성화
- 불필요한 자리를 클릭으로 비활성화
- 비활성화된 자리는 배치에서 제외
- 모든 자리 활성화 기능
- 비활성화된 자리 목록 표시

#### 2.2.4 배치 히스토리
- 자리 배치 기록 자동 저장 (최대 20개)
- 과거 배치 결과 불러오기
- 히스토리 개별 삭제 및 전체 삭제
- 타임스탬프와 함께 기록 관리

#### 2.2.5 배치 통계
- 실시간 배치 가능성 체크
- 총 자리 수, 사용 가능한 자리 수 표시
- 등록된 학생 수, 사전 지정된 자리 수 표시
- 자리 띄우기 대상 학생 수 표시

#### 2.2.6 고급 옵션
- **랜덤 시드 설정**: 재현 가능한 배치를 위한 시드 값 설정
- **배치 알고리즘 선택**:
  - 기본: 일반적인 랜덤 배치
  - 균형 배치: 앞뒤, 좌우 균형을 고려한 배치
  - 그룹 분산: 학생들을 여러 그룹으로 나누어 분산 배치
- **자동 히스토리 저장**: 배치 생성 시 자동으로 히스토리에 저장

#### 2.2.7 교사 기준 보기
- 교사 시선에서 자리 배치 확인
- 교사 기준 엑셀 다운로드 지원
- 학생 기준/교사 기준 전환 가능

### 2.3 출력 기능

#### 2.3.1 엑셀 다운로드
- 자리 배치 결과를 엑셀 파일로 저장
- 교사 기준/학생 기준 선택 가능
- 분단형 배치 시 적절한 표 구조 생성

## 3. 비기능 요구사항

### 3.1 사용성
- **직관적 UI**: 단계별 가이드와 명확한 버튼 배치
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 지원
- **한국어 지원**: 완전한 한국어 인터페이스

### 3.2 성능
- **빠른 처리**: 30명 기준 1초 이내 자리 배치 완료
- **브라우저 호환성**: 최신 브라우저 지원
- **오프라인 사용**: 인터넷 연결 없이도 기본 기능 사용 가능

### 3.3 데이터 관리
- **로컬 저장**: 브라우저 로컬 스토리지 활용
- **데이터 보안**: 외부 서버 전송 없이 로컬에서만 처리
- **백업 기능**: 명단 저장/불러오기로 데이터 보존

## 4. 기술 스펙

### 4.1 백엔드
- **Python 3.8+**: 메인 프로그래밍 언어
- **Streamlit**: 웹 애플리케이션 프레임워크
- **Pandas**: 데이터 처리 및 조작
- **NumPy**: 수치 계산 및 배열 처리

### 4.2 외부 라이브러리
- **Streamlit**: 웹 UI 프레임워크
- **Pandas**: 데이터프레임 처리
- **OpenPyXL**: 엑셀 파일 생성/읽기
- **Plotly**: 인터랙티브 시각화 (자리 배치도)
- **Session State**: 상태 관리

### 4.3 배포 환경
- **Streamlit Cloud**: 클라우드 배포
- **GitHub**: 소스코드 관리
- **Python Package Manager**: pip/conda

## 5. 사용자 경험 (UX)

### 5.1 사용 흐름
1. **명단 입력** → 학생 이름 입력
2. **배치 설정** → 교실 형태와 크기 설정
3. **고급 설정** (선택) → 사전 지정, 자리 띄우기
4. **자리 배치** → 랜덤 배치 실행
5. **결과 확인** → 교사/학생 기준 보기
6. **결과 저장** → 엑셀 다운로드

### 5.2 UI/UX 특징
- **Streamlit 네이티브 UI**: 사이드바와 메인 영역 분리
- **인터랙티브 위젯**: 실시간 업데이트되는 자리 배치도
- **세션 상태 관리**: 페이지 새로고침 없이 상태 유지
- **반응형 레이아웃**: Streamlit의 자동 반응형 지원
- **다운로드 기능**: 엑셀 파일 직접 다운로드

## 6. 제약사항 및 고려사항

### 6.1 기술적 제약
- **Streamlit 세션 제한**: 세션 타임아웃으로 인한 데이터 손실 가능성
- **클라우드 의존성**: 인터넷 연결 필수
- **Python 환경**: Python 설치 및 라이브러리 의존성

### 6.2 사용 제약
- **세션 기반 저장**: 브라우저 세션 동안만 데이터 유지
- **자리 띄우기**: 권장 인원 제한 (전체의 1/8 이내)
- **동시 사용자**: Streamlit Cloud 무료 플랜 제한

## 7. 향후 개선 방향

### 7.1 단기 개선사항
- **데이터 영속성**: SQLite 데이터베이스 연동
- **사용자 인증**: 로그인/회원가입 기능
- **더 많은 배치 패턴**: U자형, 원형 등 추가
- **학생 그룹 관리**: 고정 그룹 설정 및 관리
- **자리 배치 템플릿**: 자주 사용하는 배치 설정 저장

### 7.2 장기 개선사항
- **AI 기반 배치**: 머신러닝을 활용한 최적 배치
- **학생 특성 분석**: 학습 성향, 친구 관계 고려
- **실시간 협업**: 여러 교사가 동시에 작업
- **모바일 최적화**: PWA(Progressive Web App) 변환

## 8. 성공 지표

### 8.1 사용성 지표
- 자리 배치 완료 시간: 평균 30초 이내
- 사용자 만족도: 4.5/5.0 이상
- 재사용률: 80% 이상
- Streamlit Cloud 배포 성공률: 100%

### 8.2 기능 지표
- 자리 배치 정확도: 100%
- 엑셀 다운로드 성공률: 99% 이상
- 세션 상태 유지율: 95% 이상
- Python 라이브러리 호환성: 100%

## 9. 개발 계획

### 9.1 Phase 1: 기본 기능 구현 (2주) ✅ 완료
- Streamlit 기본 구조 설정
- 명단 입력/관리 기능
- 기본 자리 배치 알고리즘
- 엑셀 다운로드 기능

### 9.2 Phase 2: 고급 기능 구현 (2주) ✅ 완료
- 사전 자리 지정 기능
- 자리 띄우기 알고리즘
- 교사 기준 보기
- 시각화 개선
- **추가 구현된 기능들**:
  - 자리 비활성화 기능
  - 배치 히스토리 관리
  - 배치 통계 및 실시간 체크
  - 고급 옵션 (랜덤 시드, 배치 알고리즘)
  - 다중 배치 알고리즘 (기본, 균형, 그룹 분산)

### 9.3 Phase 3: 배포 및 최적화 (1주) ✅ 완료
- Streamlit Cloud 배포 준비
- 성능 최적화
- 사용자 테스트 및 피드백 반영
- 문서화 완료 (README.md, PRD.md)

---

**문서 작성일**: 2024년 12월 26일  
**작성자**: 슬쌤 (seulwhite17@gmail.com)  
**버전**: 2.0 (Streamlit 버전)  
**기존 버전**: HTML/JavaScript → Python/Streamlit 변환
